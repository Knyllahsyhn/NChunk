on:
  push:
    tags: ["v*"]          # Tag nur noch als Trigger, Version kommt aus TOML

steps:
  - uses: actions/checkout@v4
    with: {fetch-depth: 0}

  - uses: actions/setup-python@v5
    with: {python-version: "3.12"}

  - run: pip install build
  - run: python -m build

  - uses: pypa/gh-action-pypi-publish@release/v1
    with:
      packages-dir: dist
